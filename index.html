<!doctypehtml>
<html lang=en>
  <head>
    <script defer src="./bingogoals.js"></script>
    <script defer>
        const el = e => document.getElementById(e);
        window.addEventListener("load", () => {
             el("B").addEventListener("click", async function () {
                  var stream = await fetch("https://api.hypixel.net/resources/skyblock/bingo");
                  var object = await stream.json();
                  var array = object.goals;
                  while(array.length > 0){
                      var goal = array[0];
                      var filteredLore = goal.lore.replaceAll(/\xA7./g, "");
                      var TableObject = TABLE[filteredLore];
                      var string = `<div>${!!goal.tiers ? "[COMMUNITY] " : ""}<span>${filteredLore}</span><br><span>Data Time Estimate: `;
                      if(TableObject) {
                          string += `${TableObject.time}`;
                          if(!array.includes({lore: TableObject.need})) array.push({lore: TableObject.need});
                      }
                      el("root").innerHTML += string + "</span></div><br>";
                      array.shift();
                  }
                  for(var req of requirements) el("C").innerHTML += req + ", ";
                  el("B").style = "display: none;";
             });
        });
    </script>
  </head>
  <body>
    <h2>Bingo Card Difficulty Viewer</h2>
    <p id="A">API Data: </p>
    <button id="B">Click to load current Hypixel API data</button>
    <p>Goal Requirements:<span id="C"></span></p>
    <h2>All Goals And Requirements</h2>
    <div id="root"></div>
  </body>
</html>
