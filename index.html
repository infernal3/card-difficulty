<!doctypehtml>
<html lang=en>
  <head>
    <script defer src="./bingogoals.js"></script>
    <script defer>
        const el = e => document.getElementById(e);
        var requirements = new Set();
        window.addEventListener("load", () => {
             el("B").addEventListener("click", async function () {
                  var stream = await fetch("https://api.hypixel.net/resources/skyblock/bingo");
                  var object = await stream.json();
                  for(var goal of object.goals){
                      var filteredLore = goal.lore.replaceAll(/\xA7./g, "");
                      var TableObject = TABLE[filteredLore];
                      var string = `<div><span>${filteredLore}</span><br><span>Data Time Estimate: `;
                      if(TableObject) {
                          string += `${TableObject.time}`;
                          requirements.add(TableObject.need);
                      }
                      el("root").innerHTML += string + "</span></div><br>";
                  }
                  for(var req of requirements) el("C").innerHTML += req + ", ";
             });
        });
    </script>
  </head>
  <body>
    <h2>Bingo Card Difficulty Viewer</h2>
    <p id="A">API Data: </p>
    <button id="B">Click to load current Hypixel API data</button>
    <p>Goal Requirements:<span id="C"></span></p>
    <h2>All Goals</h2>
    <div id="root"></div>
  </body>
</html>
